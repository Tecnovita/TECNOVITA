#!/usr/bin/env sh
# Define el intÃ©rprete del script como shell POSIX

set -e
# Detiene la ejecuciÃ³n si cualquier comando falla (bloquea commits con errores)

. "$(dirname -- "$0")/_/husky.sh"
# Carga las funciones internas de Husky necesarias para ejecutar el hook

echo "ğŸ” Linting..."
# Mensaje visual para indicar que comienza el anÃ¡lisis de estilo

npm run lint
# Ejecuta ESLint sobre todo el proyecto para detectar errores de estilo y cÃ³digo

echo "ğŸ” Type checking..."
# Mensaje visual para indicar que comienza la validaciÃ³n de tipos

npm run typecheck
# Ejecuta TypeScript en modo estricto sin emitir archivos, para validar el tipado

echo "ğŸ§¼ Lint-staged (auto-fix)..."
# Mensaje visual para indicar que se aplican correcciones automÃ¡ticas a archivos modificados

npx lint-staged
# Aplica ESLint y Prettier solo a los archivos en staging (modificados), segÃºn configuraciÃ³n

echo "ğŸ§ª Running tests..."
# Mensaje visual para indicar que se ejecutan pruebas unitarias

npm test -- --run --passWithNoTests
# Ejecuta pruebas con Vitest, sin fallar si aÃºn no hay tests definidos

echo "ğŸ¨ Validating Tailwind build..."
# Mensaje visual para indicar que se valida la compilaciÃ³n de estilos Tailwind

npm run check:tailwind
# Compila Tailwind CSS y verifica que no haya errores en los estilos base

echo "âœ… Todo listo para commitear."
# Mensaje final indicando que todas las validaciones pasaron correctamente